This is going to attempt to document how I'm planning to implement this beast.
--------------------------------------------------------------------------------


All functions that do non-gui stuff will be stuck into modules.
The module Mail-MsgStore appears to resemble the structure I'm after, so I'll probably start with that. (http://search.cpan.org/~five/Mail-MsgStore-1.51/MsgStore.pm)

Mail::MsgStore uses it's own backend storage, which helps it to do what it does. It states that can be expanded fairly easily to other implementations. I'd like to do that, because I'd like to see standard mbox and mh folder support, as well as SQL database support (one of the main reasons I'm writing this is for a command line mail client with SQL backend support).

The first frontend, I want to look and behave like pine. The message composition should behave like pine's enable-alternate-editor-implicitly was enabled, executing the editor from the config, $ENV{EDITOR}, or vi if that neither of those exist.

Some design goals:
Message storage support:
	mbox fiels
	mh dirs
	SQL databases
Address book:
	pine book support
	mutt book support
	LDAP support
	SQL support
Folder support
	should be able to place a message in multiple (virtual) folders
Easy selecting of multiple messages, and easy to take actions on all of them.
Complete separation of GUI code.
GUIs:
	pine-ish clone
	bsd "mail"-ish clone
	some GTK front end
Config Storage:
	Flatfile
	SQL
	???Ldap???

Program flow:
fire up gui.
promt for config info if config hasn't been created yet.
display main menu (like in pine).
folders: list_folders()
when entering a folder, call check_mail().
when in check_mail(),
	prompt for login info if check fails
	foreach each message recieved, call filter_mail()
	when done, call got_mail() if we got new mail (for notifications)


---------------------------------
Modules we'll be using for stuff:
---------------------------------
-------------------
MUA client exampls:
Perl mail client we can steal stuff from:
	http://www.swi.com.br/~chaos/cmc/
clone of bsd's "mail" in perl:
	http://search.cpan.org/~sdague/ppt-0.12/bin/mail
gtk-perl mail client:
	http://harvester.sourceforge.net/
webmail thing in perl, might have some code we can steal:
	http://mailbox.univie.ac.at/~le/helpdeskmail/
interesting mail client (elmo)
	http://elmo.sourceforge.net/index.php?s=download&lang=en
gnome client using mysql for mail storage (db layout ref):
	http://freshmeat.net/projects/sqmail/
--------
Modules:
Mail storage framework we can borrow ideas from:
	http://search.cpan.org/~five/Mail-MsgStore-1.51/MsgStore.pm
Threading module: (requires messages in Mail::Internet or Mail::Box::Message)
	http://search.cpan.org/~rclamp/Mail-Thread-2.41/Thread.pm
Message quoting (filter sending through this):
	http://search.cpan.org/~chardin/MailQuoteWrap0.01/
One possible attachment handling module:
	http://search.cpan.org/~crenz/Mail-Audit-Attach-0.93/Attach.pm
------------
Box Parsers:
mbox -> sql database dump:
	http://freshmeat.net/projects/mailidx/
mbox parser:
	http://freshmeat.net/projects/m-m-msgparser/
mbox -> sql database dump:
	http://freshmeat.net/projects/mbox2mysql/
------
Other:
Backend all in sql database (sendmail/pop3/imap)
	http://freshmeat.net/projects/dbmail/

